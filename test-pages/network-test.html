<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Test - WebSee Testing</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
        }
        button { padding: 10px 20px; margin: 5px; }
        .results { margin-top: 20px; padding: 10px; border: 1px solid #ddd; }
    </style>
</head>
<body>
    <h1>Network Request Testing</h1>
    <p>Test various network request scenarios.</p>

    <div>
        <button onclick="makeGetRequest()">GET Request</button>
        <button onclick="makePostRequest()">POST Request</button>
        <button onclick="makeMultipleRequests()">Multiple Requests</button>
        <button onclick="makeFailedRequest()">Failed Request</button>
        <button onclick="makeSlowRequest()">Slow Request</button>
    </div>

    <div id="results" class="results"></div>

    <script>
        function log(message) {
            const results = document.getElementById('results');
            results.innerHTML += `<p>${new Date().toISOString()}: ${message}</p>`;
        }

        async function makeGetRequest() {
            log('Making GET request...');
            try {
                const response = await fetch('https://jsonplaceholder.typicode.com/posts/1');
                const data = await response.json();
                log(`GET Success: ${data.title}`);
            } catch (error) {
                log(`GET Error: ${error.message}`);
            }
        }

        async function makePostRequest() {
            log('Making POST request...');
            try {
                const response = await fetch('https://jsonplaceholder.typicode.com/posts', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ title: 'Test', body: 'Test body', userId: 1 })
                });
                const data = await response.json();
                log(`POST Success: Created post ${data.id}`);
            } catch (error) {
                log(`POST Error: ${error.message}`);
            }
        }

        async function makeMultipleRequests() {
            log('Making multiple requests...');
            const promises = [
                fetch('https://jsonplaceholder.typicode.com/users/1'),
                fetch('https://jsonplaceholder.typicode.com/posts/1'),
                fetch('https://jsonplaceholder.typicode.com/comments/1')
            ];
            try {
                await Promise.all(promises);
                log('Multiple requests completed');
            } catch (error) {
                log(`Multiple requests error: ${error.message}`);
            }
        }

        async function makeFailedRequest() {
            log('Making failed request...');
            try {
                await fetch('https://jsonplaceholder.typicode.com/invalid-endpoint-404');
            } catch (error) {
                log(`Failed request error: ${error.message}`);
            }
        }

        async function makeSlowRequest() {
            log('Making slow request...');
            try {
                const controller = new AbortController();
                setTimeout(() => controller.abort(), 5000);
                await fetch('https://httpbin.org/delay/3', { signal: controller.signal });
                log('Slow request completed');
            } catch (error) {
                log(`Slow request error: ${error.message}`);
            }
        }

        // Make an initial request on page load
        window.addEventListener('load', () => {
            log('Page loaded, making initial request...');
            makeGetRequest();
        });
    </script>
</body>
</html>
